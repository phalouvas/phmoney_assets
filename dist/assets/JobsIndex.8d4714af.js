var j=Object.defineProperty,J=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var b=(o,e,s)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,k=(o,e)=>{for(var s in e||(e={}))L.call(e,s)&&b(o,s,e[s]);if(v)for(var s of v(e))U.call(e,s)&&b(o,s,e[s]);return o},g=(o,e)=>J(o,A(e));import{_ as B,r,o as i,g as m,a as t,b as l,w as d,F as P,m as E,t as _,i as p,c as C,d as R}from"./main.6bdfe4fe.js";const D={data(){return{filter:{page:1,name:null,id:null,customer_name:null,vendor_name:null,only_active:!1}}},methods:{clear(){this.filter={page:1,name:null,id:null,customer_name:null,vendor_name:null,only_active:!1},this.load(1)},async load(o){this.filter.page=o,await this.store.get("/phmoney/business/jobs",this.filter)},async destroy(o){confirm("Are you sure you want to delete this item?")&&(await this.store.delete(`/phmoney/business/jobs/destroy/${o.pk}`),this.load(1))}}},F={class:"p-6 overflow-x-auto"},I={class:"flex flex-wrap gap-2"},S=t("span",{class:"material-icons-outlined"}," search ",-1),z=t("span",{class:"material-icons-outlined"}," search_off ",-1),O=t("th",null,"Company Name",-1),q=t("th",null,"Job Number",-1),G=t("th",null,"Customer",-1),H=t("th",null,"Vendor",-1),K=t("th",null,"Rate",-1),M=t("span",{class:"material-icons-outlined"},"add",-1),Q={key:0},T={key:0},W={class:"flex"},X=t("span",{class:"material-icons-outlined"},"summarize",-1),Y=t("span",{class:"material-icons-outlined"},"edit",-1),Z=["onClick"],$=t("span",{class:"material-icons-outlined"},"delete",-1),ee=[$];function te(o,e,s,f,a,u){const V=r("form-label"),x=r("form-checkbox"),c=r("form-input"),h=r("form-button"),w=r("form-secondary-button"),y=r("RouterLink"),N=r("Pagination");return i(),m("div",F,[t("div",I,[t("div",null,[l(V,{for:"only_active",value:"Only Active?"}),l(x,{id:"only_active",checked:a.filter.only_active,"onUpdate:checked":e[0]||(e[0]=n=>a.filter.only_active=n),onChange:e[1]||(e[1]=n=>u.load(1))},null,8,["checked"])]),l(c,{id:"name",name:"filter_name",type:"text",modelValue:a.filter.name,"onUpdate:modelValue":e[2]||(e[2]=n=>a.filter.name=n),placeholder:"Job Name..."},null,8,["modelValue"]),l(c,{id:"id",name:"filter_id",type:"text",modelValue:a.filter.id,"onUpdate:modelValue":e[3]||(e[3]=n=>a.filter.id=n),placeholder:"Job Number..."},null,8,["modelValue"]),l(c,{id:"customer_name",name:"filter_customer_name",type:"text",modelValue:a.filter.customer_name,"onUpdate:modelValue":e[4]||(e[4]=n=>a.filter.customer_name=n),placeholder:"Customer Name..."},null,8,["modelValue"]),l(c,{id:"vendor_name",name:"filter_vendor_name",type:"text",modelValue:a.filter.vendor_name,"onUpdate:modelValue":e[5]||(e[5]=n=>a.filter.vendor_name=n),placeholder:"Vendor Name..."},null,8,["modelValue"]),l(h,{onClick:e[6]||(e[6]=n=>u.load(1)),title:"Search"},{default:d(()=>[S]),_:1}),l(w,{title:"Clear",onClick:u.clear},{default:d(()=>[z]),_:1},8,["onClick"])]),t("table",null,[t("thead",null,[t("tr",null,[O,q,G,H,K,t("th",null,[l(h,{onClick:e[7]||(e[7]=n=>o.$router.push({name:"business.jobs.create"})),title:"Add New"},{default:d(()=>[M]),_:1})])])]),t("tbody",null,[o.store.props.jobs?(i(!0),m(P,{key:0},E(o.store.props.jobs.data,n=>(i(),m("tr",{key:n.guid},[t("td",null,_(n.name),1),t("td",null,_(n.id),1),t("td",null,[n.customer?(i(),m("span",Q,_(n.customer.name),1)):p("",!0)]),t("td",null,[n.vendor?(i(),m("span",T,_(n.vendor.name),1)):p("",!0)]),t("td",null,_(n.rate.numeric_val_num),1),t("td",null,[t("div",W,[l(y,{class:"text-gray-500 hover:text-gray-300",to:{name:"business.jobs.edit",params:{job_pk:n.pk}},title:"Edit"},{default:d(()=>[X]),_:2},1032,["to"]),l(y,{class:"text-sky-500 hover:text-sky-300",to:{name:"business.jobs.edit",params:{job_pk:n.pk}},title:"Edit"},{default:d(()=>[Y]),_:2},1032,["to"]),t("div",{class:"text-red-500 hover:text-red-300 hover:cursor-pointer",onClick:le=>u.destroy(n),title:"Delete"},ee,8,Z)])])]))),128)):p("",!0)]),t("tfoot",null,[o.store.props.jobs&&o.store.props.jobs.total>o.store.props.jobs.per_page?(i(),C(N,{key:0,current:o.store.props.jobs.current_page,total:o.store.props.jobs.total,"per-page":o.store.props.jobs.per_page,onPageChanged:u.load},null,8,["current","total","per-page","onPageChanged"])):p("",!0)])])])}var oe=B(D,[["render",te]]);const ne={class:"bg-white shadow mt-4 prose max-w-none"},se={async created(){await this.store.get("/phmoney/business/jobs")}},ie=R(g(k({},se),{name:"JobsIndex",setup(o){return(e,s)=>{const f=r("AppLayout");return i(),C(f,{title:"Jobs"},{default:d(()=>[t("div",ne,[l(oe)])]),_:1})}}}));export{ie as default};
