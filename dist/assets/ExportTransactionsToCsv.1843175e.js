import{_ as h,r as n,o as r,g as l,a as o,b as a,k as g,p as w,F as x,m as b,t as y,w as m,n as V,e as D,d as S,c as k}from"./main.e98d045c.js";const C={async created(){await this.store.get("/phmoney/export/transactions-to-csv/index"),this.props.accounts=[...this.store.props.accounts]},data(){return{form:{date_start:this.store.user.options.accounting_period.date_start,date_end:this.store.user.options.accounting_period.date_end,accounts:[]},props:{accounts:[]}}},methods:{async submit(){await this.store.post("/phmoney/export/transactions-to-csv/download",this.form),this.store.errors||this.store.download(this.store.props,"Transactions.csv","text/csv;charset=utf-8;")}}},E={class:"p-6"},F={class:"flex flex-wrap gap-2"},T={class:"flex flex-wrap gap-2"},B=["value"],L={class:"flex items-center justify-end mt-4 gap-2"},U=o("span",{class:"material-icons-outlined"},"download",-1);function I(d,e,p,c,s,u){const i=n("form-label"),_=n("FormDateStart"),f=n("FormDateEnd"),v=n("form-button");return r(),l("div",E,[o("form",{onSubmit:e[3]||(e[3]=D((...t)=>u.submit&&u.submit(...t),["prevent"]))},[o("div",F,[o("div",null,[a(i,{for:"date_start",value:"Start Date"}),a(_,{id:"date_start",name:"date_start",modelValue:s.form.date_start,"onUpdate:modelValue":e[0]||(e[0]=t=>s.form.date_start=t)},null,8,["modelValue"])]),o("div",null,[a(i,{for:"date_end",value:"End Date"}),a(f,{id:"date_end",name:"date_end",modelValue:s.form.date_end,"onUpdate:modelValue":e[1]||(e[1]=t=>s.form.date_end=t)},null,8,["modelValue"])])]),o("div",T,[o("div",null,[a(i,{for:"accounts",value:"Select Accounts"}),g(o("select",{multiple:"","onUpdate:modelValue":e[2]||(e[2]=t=>s.form.accounts=t),class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(r(!0),l(x,null,b(s.props.accounts,t=>(r(),l("option",{key:t.guid,value:t.guid},y(t.name_indent),9,B))),128))],512),[[w,s.form.accounts]])])]),o("div",L,[a(v,{class:V({"opacity-25":d.store.processing}),disabled:d.store.processing||s.form.upload_file===null,title:"download"},{default:m(()=>[U]),_:1},8,["class","disabled"])])],32)])}var M=h(C,[["render",I]]);const N={class:"bg-white shadow mt-4 prose max-w-none"},z=S({name:"ExportTransactionsToCsv",setup(d){return(e,p)=>{const c=n("ImportLayout");return r(),k(c,{title:"Export Transactions to CSV"},{default:m(()=>[o("div",N,[a(M)])]),_:1})}}});export{z as default};
