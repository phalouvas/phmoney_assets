import{_ as g,r as d,o as i,g as l,a as t,b as s,k as p,p as f,l as c,m as _,t as v,i as b,w,n as k,e as V}from"./main.9b13df64.js";const x={data(){return{form:{id:this.store.props.job.id,name:this.store.props.job.name,reference:this.store.props.job.reference,active:this.store.props.job.active,rate_num:this.store.props.job.rate.numeric_val_num,rate_denom:this.store.props.job.rate.numeric_val_denom,owner_type:this.store.props.job.owner_type,owner_guid:this.store.props.job.owner_guid},rate:this.store.props.job.rate.numeric_val_num/this.store.props.job.rate.numeric_val_denom}},methods:{async submit(){this.form.rate_num=this.rate*1,this.form.rate_denom=1,this.$route.name==="business.jobs.create"?await this.store.post("http://phmoney_app.kainotomo.localhost/phmoney/business/jobs/store",this.form):await this.store.post(`http://phmoney_app.kainotomo.localhost/phmoney/business/jobs/update/${this.$route.params.job_pk}`,this.form),this.$router.back()}}},j={class:"p-3 border"},U=t("div",{class:"font-bold text-lg"},"Job",-1),J=t("div",{class:"font-semibold text-md"},"Job Information",-1),C={class:"flex flex-wrap gap-2"},N=t("div",{class:"font-semibold text-md"},"Owner Information",-1),B={class:"flex flex-wrap gap-2"},S={class:"flex flex-wrap gap-2"},q={key:0},A=["value"],D={key:1},E=["value"],I={class:"flex gap-2 items-center justify-end mt-4"},M=t("span",{class:"material-icons-outlined"}," save ",-1);function z(u,r,F,L,o,a){const n=d("form-label"),m=d("form-input"),h=d("form-checkbox"),y=d("form-button");return i(),l("form",{onSubmit:r[9]||(r[9]=V((...e)=>a.submit&&a.submit(...e),["prevent"])),class:"p-6"},[t("div",j,[U,J,t("div",C,[t("div",null,[s(n,{for:"id",value:"Job Number"}),s(m,{id:"id",type:"text",modelValue:o.form.id,"onUpdate:modelValue":r[0]||(r[0]=e=>o.form.id=e)},null,8,["modelValue"])]),t("div",null,[s(n,{for:"name",value:"Job Name*"}),s(m,{id:"name",type:"text",modelValue:o.form.name,"onUpdate:modelValue":r[1]||(r[1]=e=>o.form.name=e),required:""},null,8,["modelValue"])]),t("div",null,[s(n,{for:"active",value:"Active"}),s(h,{id:"active",checked:o.form.active,"onUpdate:checked":r[2]||(r[2]=e=>o.form.active=e)},null,8,["checked"])])]),N,t("div",B,[s(n,{for:"radio_customer",value:"Customer"}),s(m,{type:"radio",id:"radio_customer",name:"radio_name",value:"2",checked:o.form.owner_type=="2",modelValue:o.form.owner_type,"onUpdate:modelValue":r[3]||(r[3]=e=>o.form.owner_type=e)},null,8,["checked","modelValue"]),s(n,{for:"radio_vendor",value:"Vendor"}),s(m,{type:"radio",id:"radio_vendor",name:"radio_name",value:"4",checked:o.form.owner_type=="4",modelValue:o.form.owner_type,"onUpdate:modelValue":r[4]||(r[4]=e=>o.form.owner_type=e)},null,8,["checked","modelValue"])]),t("div",S,[o.form.owner_type=="2"?(i(),l("div",q,[s(n,{for:"customer",value:"\xA0"}),p(t("select",{id:"customer","onUpdate:modelValue":r[5]||(r[5]=e=>o.form.owner_guid=e),required:"",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(i(!0),l(c,null,_(u.store.props.customers,e=>(i(),l("option",{key:e.guid,value:e.guid},v(e.name),9,A))),128))],512),[[f,o.form.owner_guid]])])):b("v-if",!0),o.form.owner_type=="4"?(i(),l("div",D,[s(n,{for:"vendor",value:"\xA0"}),p(t("select",{id:"vendor","onUpdate:modelValue":r[6]||(r[6]=e=>o.form.owner_guid=e),required:"",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(i(!0),l(c,null,_(u.store.props.vendors,e=>(i(),l("option",{key:e.guid,value:e.guid},v(e.name),9,E))),128))],512),[[f,o.form.owner_guid]])])):b("v-if",!0),t("div",null,[s(n,{for:"rate",value:"Rate"}),s(m,{id:"rate",type:"number",modelValue:o.rate,"onUpdate:modelValue":r[7]||(r[7]=e=>o.rate=e),min:"0"},null,8,["modelValue"])]),t("div",null,[s(n,{for:"reference",value:"Billing ID"}),s(m,{id:"reference",type:"text",modelValue:o.form.reference,"onUpdate:modelValue":r[8]||(r[8]=e=>o.form.reference=e)},null,8,["modelValue"])])])]),t("div",I,[s(y,{class:k({"opacity-25":o.form.processing}),disabled:o.form.processing,title:"Save"},{default:w(()=>[M]),_:1},8,["class","disabled"])])],32)}var R=g(x,[["render",z],["__file","/home/phalo/kainotomo/phmoney_docker/phmoney_assets/src/components/business/jobs/JobsEdit.vue"]]);export{R as J};
