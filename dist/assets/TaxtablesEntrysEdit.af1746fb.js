import{_,r as u,o as l,g as m,a as s,b as r,k as d,p as c,F as y,m as h,t as x,w as v,n as g,e as k}from"./main.f1eb50b0.js";const w={data(){var o,t,n;return{form:{taxtable:this.store.props.taxtable.guid,account:this.store.props.taxtableentry.account,amount_num:this.store.props.taxtableentry.amount_num,amount_denom:(o=this.store.props.taxtableentry.amount_denom)!=null?o:100,type:(t=this.store.props.taxtableentry.type)!=null?t:1},account:(n=this.store.props.taxtableentry.tax_account)!=null?n:1,amount:this.store.props.taxtableentry.amount_num/this.store.props.taxtableentry.amount_denom}},methods:{async submit(){let o=100;this.form.type==2&&(o=1e5),this.form.amount_num=this.amount*o,this.form.amount_denom=o,this.$route.name==="business.taxtables.entrys.create"?await this.store.post(`/phmoney/business/taxtables/${this.$route.params.taxtable_pk}/taxtableentrys/store`,this.form):await this.store.post(`/phmoney/business/taxtables/${this.$route.params.taxtable_pk}/taxtableentrys/update/${this.$route.params.entry_pk}`,this.form),this.$router.back()}}},V={class:"p-3 border"},C={class:"flex flex-wrap gap-2"},S=s("option",{value:"1"},"Percent %",-1),$=s("option",{value:"2"},"Value \u20AC",-1),B=[S,$],E=["value"],T={class:"flex gap-2 items-center justify-end mt-4"},U=s("span",{class:"material-icons-outlined"}," save ",-1);function q(o,t,n,A,a,p){const i=u("form-label"),f=u("form-input"),b=u("form-button");return l(),m("form",{onSubmit:t[3]||(t[3]=k((...e)=>p.submit&&p.submit(...e),["prevent"])),class:"p-6"},[s("div",V,[s("div",C,[s("div",null,[r(i,{for:"type",value:"Tax Included"}),d(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.type=e),name:"type",id:"type",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},B,512),[[c,a.form.type]])]),s("div",null,[r(i,{for:"amount",value:"Value"}),r(f,{id:"amount",type:"number",modelValue:a.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>a.amount=e),min:"0",required:""},null,8,["modelValue"])]),s("div",null,[r(i,{for:"account",value:"Account"}),d(s("select",{id:"account","onUpdate:modelValue":t[2]||(t[2]=e=>a.form.account=e),required:"",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(l(!0),m(y,null,h(o.store.props.accounts,e=>(l(),m("option",{key:e.guid,value:e.guid},x(e.name),9,E))),128))],512),[[c,a.form.account]])])])]),s("div",T,[r(b,{class:g({"opacity-25":a.form.processing}),disabled:a.form.processing,title:"Save"},{default:v(()=>[U]),_:1},8,["class","disabled"])])],32)}var F=_(w,[["render",q]]);export{F as T};
